#include <stdio.h>
#include "stack.h"

void array_dump(int a[], unsigned int length) {
    fprintf(stdout, "[");
    for (unsigned int i = 0u; i < length; ++i) {
        fprintf(stdout, "%d", a[i]);
        if (i < length - 1) {
            fprintf(stdout, ", ");
        } else {
            fprintf(stdout, "]\n");
        }
    }
}


int
main(void)
{
	stack s = stack_empty();
	s = stack_push(s, 1);
	s = stack_push(s, 2);
	s = stack_push(s, 3);
	s = stack_push(s, 4);
	s = stack_push(s, 5);
	

	unsigned int n = stack_size(s);
	printf("%d\n", n);
	stack_elem *array = NULL;
	array = stack_to_array(s);
	array_dump(array, n);

	s = stack_pop(s);
	stack_elem *arraypru = stack_to_array(s);
	array_dump(arraypru, n);

	return 0;
}
